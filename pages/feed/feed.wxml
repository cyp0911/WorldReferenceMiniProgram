<view class="page">
  <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
  <view class="header bg-blue-600 text-white">
    <view class="container">
      <view class="py-4">
        <view class="text-xl font-bold text-center">å…¨çƒåŠ¨æ€</view>
        <view class="text-sm text-blue-100 text-center mt-1">å®æ—¶æ–°é—»èµ„è®¯</view>
      </view>
    </view>
  </view>

  <!-- çƒ­é—¨è¯é¢˜æ  -->
  <view class="container mt-4">
    <view class="bg-red-50 border border-red-200 rounded-lg p-3">
      <view class="flex items-center">
        <text class="text-red-500 text-xl mr-2">ğŸ”¥</text>
        <view class="flex-1">
          <view class="text-sm font-semibold text-red-700">çƒ­é—¨è¯é¢˜</view>
        </view>
      </view>
      
      <!-- è¯é¢˜æ ‡ç­¾æ¨ªå‘æ»šåŠ¨ -->
      <scroll-view class="topics-scroll mt-2" scroll-x>
        <view class="flex space-x-2">
          <view 
            class="topic-tag {{selectedTopic === item ? 'bg-red-500 text-white' : 'bg-white text-red-600'}}"
            wx:for="{{trendingTopics}}"
            wx:key="*this"
            bindtap="selectTopic"
            data-topic="{{item}}"
          >
            #{{item}}
          </view>
        </view>
      </scroll-view>
    </view>
  </view>

  <!-- æ–°é—»å¡ç‰‡æµ -->
  <view class="container mt-4 mb-20">
    <view class="space-y-4">
      <!-- æ–°é—»å¡ç‰‡ -->
      <view 
        class="news-card bg-white rounded-lg shadow-sm overflow-hidden"
        wx:for="{{newsList}}"
        wx:key="id"
        bindtap="openNewsDetail"
        data-news="{{item}}"
      >
        <!-- æ–°é—»å¤§å›¾ -->
        <image 
          wx:if="{{item.image}}" 
          src="{{item.image}}" 
          class="news-image w-full h-48 object-cover"
          mode="aspectFill"
        />
        
        <!-- å¡ç‰‡å†…å®¹ -->
        <view class="p-4">
          <!-- å›½å®¶å’Œåˆ†ç±»æ ‡ç­¾ -->
          <view class="flex items-center justify-between mb-2">
            <view class="flex items-center">
              <text class="text-xl mr-2">{{item.countryFlag}}</text>
              <text class="text-sm text-gray-600 mr-2">{{item.country}}</text>
              <view class="bg-blue-100 text-blue-600 text-xs px-2 py-0.5 rounded">{{item.category}}</view>
            </view>
            <view class="flex items-center text-red-500" wx:if="{{item.trending}}">
              <text class="text-sm mr-1">ğŸ”¥</text>
              <text class="text-sm font-semibold">çƒ­é—¨</text>
            </view>
          </view>
          
          <!-- æ–°é—»æ ‡é¢˜ -->
          <view class="text-gray-900 font-semibold text-base mb-2 line-clamp-2">
            {{item.title}}
          </view>
          
          <!-- åª’ä½“ä¿¡æ¯ -->
          <view class="flex items-center justify-between mb-3">
            <view class="flex items-center">
              <text class="text-lg mr-2">{{item.sourceLogo}}</text>
              <text class="text-sm text-gray-700">{{item.source}}</text>
              <text class="text-sm text-gray-500 ml-2">{{item.time}}</text>
            </view>
          </view>
          
          <!-- åº•éƒ¨æ“ä½œæ  -->
          <view class="flex items-center justify-between pt-3 border-t border-gray-100">
            <view class="flex items-center space-x-4">
              <view class="flex items-center text-gray-600">
                <text class="text-sm mr-1">ğŸ‘</text>
                <text class="text-sm">{{item.views}}</text>
              </view>
              <view class="flex items-center {{item.saved ? 'text-yellow-500' : 'text-gray-600'}}">
                <text class="text-sm mr-1">{{item.saved ? 'â­' : 'â˜†'}}</text>
                <text class="text-sm">{{item.saved ? 'å·²æ”¶è—' : 'æ”¶è—'}}</text>
              </view>
              <view class="flex items-center text-gray-600">
                <text class="text-sm mr-1">ğŸ’¬</text>
                <text class="text-sm">{{item.comments || 0}}</text>
              </view>
            </view>
            
            <!-- åˆ†äº«æŒ‰é’® -->
            <view class="text-blue-600 text-sm">
              <text>åˆ†äº«</text>
            </view>
          </view>
        </view>
      </view>
    </view>

    <!-- åŠ è½½æ›´å¤šæŒ‰é’® -->
    <view class="text-center mt-6 mb-8">
      <button 
        class="load-more-btn bg-blue-600 text-white px-6 py-3 rounded-full"
        bindtap="loadMoreNews"
        wx:if="{{hasMore}}"
      >
        <text class="text-sm font-semibold">åŠ è½½æ›´å¤š</text>
      </button>
      
      <view wx:else class="text-gray-500 text-sm">
        <text>æ²¡æœ‰æ›´å¤šå†…å®¹äº†</text>
      </view>
    </view>
  </view>
</view>